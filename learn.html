<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Learn | Goldwire Games</title>

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Cabin:wght@400;700&display=swap" rel="stylesheet">

<!-- Phylotree.js -->
<script src="https://cdn.jsdelivr.net/npm/d3@5"></script>
<script src="https://cdn.jsdelivr.net/npm/phylotree@1.0.0/phylotree.js"></script>

<style>
/* CLEANED STYLES (kept your theme, removed old fake-tree grid) */

:root{
  --bg-color: #f7f3e9;
  --text-color: #2a2a2a;
  --accent-green: #4d7b48;
  --accent-orange: #d08a43;
  --accent-gold: #b8913b;
  --night-bg: #0d0f11;
  --night-text: #e8e8e8;
}

/* General page styling */
body{
  margin:0;
  font-family:"Cabin", sans-serif;
  background:var(--bg-color);
  color:var(--text-color);
}
body.night{
  background:var(--night-bg);
  color:var(--night-text);
}

nav{
  display:flex;
  justify-content:center;
  gap:28px;
  padding:14px 0;
  background:rgba(241,236,223,0.85);
  backdrop-filter:blur(6px);
  position:sticky;
  top:0;
  z-index:10;
}
nav a{
  font-weight:700;
  text-decoration:none;
  color:var(--accent-gold);
}
nav a:hover{
  color:var(--accent-orange);
}

.container{
  max-width:960px;
  margin:0 auto;
  padding:40px 20px;
}

section{
  background:white;
  padding:26px;
  border-radius:14px;
  margin-bottom:40px;
  box-shadow:0 6px 20px rgba(0,0,0,0.06);
}
body.night section{
  background:#141619;
}

h1,h2{
  font-family:"Merriweather", serif;
  color:var(--accent-green);
}

/* INTERACTIVE TREE */
#phylo-container{
  width:100%;
  height:660px;
  border:1px solid rgba(0,0,0,0.15);
  border-radius:14px;
  background:white;
  overflow:hidden;
}
body.night #phylo-container{
  background:#0f1113;
  border-color:#333;
}

#moon-toggle{
  position:fixed;
  right:18px;
  bottom:18px;
  font-size:2rem;
  cursor:pointer;
  user-select:none;
}

</style>
</head>

<body>

<div id="moon-toggle">ðŸŒ™</div>

<nav>
  <a href="index.html">Home</a>
  <a href="learn.html" style="color:var(--accent-orange)">Learn</a>
  <a href="about.html">About</a>
  <a href="shop.html">Shop</a>
  <a href="contact.html">Contact</a>
</nav>

<main class="container">

  <section>
    <h1>Learn Mammal Mania</h1>
    <p>The interactive family tree below shows every species included in Mammal Mania and how they are related.</p>
  </section>

  <!-- REAL INTERACTIVE TREE -->
  <section>
    <h2>Interactive Phylogenetic Tree</h2>
    <p>This tree is generated directly from scientific data using your uploaded <code>.nwk</code> file.</p>

    <div id="phylo-container"></div>

    <script>
    // Load the Newick file you uploaded to GitHub
    d3.text("https://tavisgoldwire.github.io/mammalmania_commonname.nwk")
      .then(function(newick) {

        const tree = new phylotree.phylotree(newick)
          .svg(d3.select("#phylo-container"))
          .options({
            'zoom': true,
            'align-tips': true
          })
          .layout();

        // Color branches by order using placeholder colors
        const orderColors = {
          "Carnivora": "red",
          "Artiodactyla": "green",
          "Primates": "gold",
          "Rodentia": "blue"
        };

        tree.get_nodes().forEach(n => {
          if (n.data && n.data.name) {
            const name = n.data.name;

            for (let ord in orderColors) {
              if (name.includes(ord)) {
                n.branch_color = orderColors[ord];
              }
            }
          }
        });

        tree.update();
      });
    </script>
  </section>

  <section>
    <h2>How to Use the Tree</h2>
    <ul>
      <li><strong>Scroll</strong> to zoom.</li>
      <li><strong>Click + drag</strong> to move the canvas.</li>
      <li><strong>Click any species</strong> to highlight its branch.</li>
      <li><strong>Colors</strong> show the Order (temporary placeholder colors).</li>
    </ul>
  </section>

</main>

<script>
// Night mode toggle
const moon = document.getElementById("moon-toggle");
moon.onclick = () => {
  document.body.classList.toggle("night");
  moon.textContent = document.body.classList.contains("night") ? "ðŸŒ•" : "ðŸŒ™";
};
</script>

</body>
</html>






